<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details - FarmTrails</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4CAF50;
            --secondary: #FF9800;
            --light: #F1F8E9;
            --dark: #1B5E20;
            --text: #212121;
            --accent: #8BC34A;
            --white: #ffffff;
            --gray-light: #f5f5f5;
            --gray: #757575;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            --radius: 8px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--gray-light);
            color: var(--text);
            line-height: 1.6;
            padding-bottom: 80px; /* Space for bottom buttons */
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Header Styles */
        header {
            background: linear-gradient(to right, var(--primary), var(--accent));
            color: var(--white);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo i {
            font-size: 1.8rem;
        }
        
        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .back-btn {
            background: none;
            border: 2px solid var(--white);
            color: var(--white);
            padding: 8px 16px;
            border-radius: var(--radius);
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* Loading Spinner */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 50vh;
            flex-direction: column;
            gap: 1rem;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Product Details Section */
        .product-details-section {
            padding: 2rem 1rem;
        }
        
        .product-details {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            background: var(--white);
            border-radius: var(--radius);
            padding: 2rem;
            box-shadow: var(--shadow);
        }
        
        @media (min-width: 768px) {
            .product-details {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .product-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: var(--radius);
        }
        
        .product-info h1 {
            margin-bottom: 1rem;
            color: var(--dark);
            font-size: 1.8rem;
        }
        
        .product-price {
            font-size: 2rem;
            font-weight: bold;
            color: var(--secondary);
            margin-bottom: 1rem;
        }
        
        .product-description {
            margin-bottom: 1.5rem;
            line-height: 1.6;
            font-size: 1.1rem;
        }
        
        .product-meta {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .meta-item {
            display: flex;
            flex-direction: column;
            background: var(--light);
            padding: 1rem;
            border-radius: var(--radius);
        }
        
        .meta-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 0.5rem;
        }
        
        .meta-value {
            font-weight: 500;
            font-size: 1.1rem;
        }
        
        /* Farmer Details */
        .farmer-details {
            background: var(--light);
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-bottom: 2rem;
        }
        
        .farmer-details h2 {
            margin-bottom: 1rem;
            color: var(--dark);
            border-bottom: 2px solid var(--primary);
            padding-bottom: 0.5rem;
        }
        
        .farmer-info {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 1rem;
        }
        
        .farmer-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary);
        }
        
        .farmer-bio h3 {
            margin-bottom: 0.5rem;
            color: var(--dark);
        }
        
        .farmer-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .stat-item {
            text-align: center;
            padding: 1rem;
            background: var(--white);
            border-radius: var(--radius);
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            display: block;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        /* Reviews Section */
        .reviews-section {
            margin-bottom: 2rem;
        }
        
        .reviews-section h2 {
            margin-bottom: 1rem;
            color: var(--dark);
            border-bottom: 2px solid var(--primary);
            padding-bottom: 0.5rem;
        }
        
        .review {
            padding: 1.5rem 0;
            border-bottom: 1px solid #eee;
        }
        
        .review:last-child {
            border-bottom: none;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .reviewer-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .reviewer-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .reviewer-name {
            font-weight: 500;
        }
        
        .review-date {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .review-rating {
            color: var(--secondary);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        
        .review-text {
            line-height: 1.5;
            background: var(--light);
            padding: 1rem;
            border-radius: var(--radius);
        }
        
        /* Similar Products Section */
        .similar-products {
            margin-top: 3rem;
        }
        
        .similar-products h2 {
            margin-bottom: 1.5rem;
            color: var(--dark);
            border-bottom: 2px solid var(--primary);
            padding-bottom: 0.5rem;
        }
        
        .similar-products-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        @media (min-width: 768px) {
            .similar-products-container {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        .similar-product-card {
            background: var(--white);
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .similar-product-card:hover {
            transform: translateY(-5px);
        }
        
        .similar-product-img {
            height: 120px;
            overflow: hidden;
        }
        
        .similar-product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .similar-product-card:hover .similar-product-img img {
            transform: scale(1.1);
        }
        
        .similar-product-content {
            padding: 1rem;
        }
        
        .similar-product-name {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            color: var(--dark);
            font-weight: 500;
        }
        
        .similar-product-price {
            font-weight: bold;
            color: var(--secondary);
        }
        
        /* Bottom Action Buttons */
        .bottom-actions {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--white);
            padding: 1rem;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 1rem;
            z-index: 100;
        }
        
        .action-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .add-to-cart-btn {
            background: var(--primary);
            color: var(--white);
        }
        
        .add-to-cart-btn:hover {
            background: var(--dark);
        }
        
        .buy-now-btn {
            background: var(--secondary);
            color: var(--white);
        }
        
        .buy-now-btn:hover {
            background: #F57C00;
        }
        
        /* Footer */
        footer {
            background: var(--dark);
            color: var(--white);
            padding: 2rem 1rem;
            margin-top: 3rem;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-section h3 {
            margin-bottom: 1rem;
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section ul li {
            margin-bottom: 0.5rem;
        }
        
        .footer-section a {
            color: #ddd;
            text-decoration: none;
        }
        
        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 1rem;
        }
        
        .social-icons a {
            color: var(--white);
            font-size: 1.5rem;
        }
        
        .copyright {
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            padding: 15px 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateX(150%);
            transition: transform 0.3s ease-in-out;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification i {
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-leaf"></i>
                <h1>FarmTrails</h1>
            </div>
            <button class="back-btn" onclick="window.history.back()">
                <i class="fas fa-arrow-left"></i>
                Back
            </button>
        </div>
    </header>

    <!-- Loading Spinner -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>Loading product details...</p>
    </div>

    <!-- Product Details Section -->
    <section class="product-details-section" id="productSection" style="display: none;">
        <div class="container">
            <div class="product-details" id="productDetails">
                <!-- Product details will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Similar Products Section -->
    <section class="similar-products" id="similarSection" style="display: none;">
        <div class="container">
            <h2>Similar Products</h2>
            <div class="similar-products-container" id="similarProducts">
                <!-- Similar products will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Bottom Action Buttons -->
    <div class="bottom-actions" id="bottomActions" style="display: none;">
        <button class="action-btn add-to-cart-btn" id="addToCartBtn">
            <i class="fas fa-shopping-cart"></i>
            Add to Cart
        </button>
        <button class="action-btn buy-now-btn" id="buyNowBtn">
            <i class="fas fa-bolt"></i>
            Buy Now
        </button>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText"></span>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>FarmTrails</h3>
                    <p>Connecting tourists with local farmers for authentic agricultural experiences and fresh farm products.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#">Farm Tours</a></li>
                        <li><a href="#">Farm Products</a></li>
                        <li><a href="#">Become a Host</a></li>
                        <li><a href="#">About Us</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Contact Us</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Farm Road, Agricultural District</li>
                        <li><i class="fas fa-phone"></i> +91 6309841404</li>
                        <li><i class="fas fa-envelope"></i> gchandavath@gmail.com</li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2025 FarmTrails. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Complete product database
        const productsDatabase = [
            {
                _id: '1',
                name: 'Organic Turmeric Powder',
                description: 'Freshly harvested from our organic farm. This turmeric is grown without any chemical pesticides or fertilizers, ensuring the purest and most potent product. Rich in curcumin, it has powerful anti-inflammatory effects and is a very strong antioxidant. Perfect for cooking, medicinal purposes, and beauty treatments.',
                price: 350,
                unit: '500gm',
                image: 'https://images.unsplash.com/photo-1615485500834-bc10199bc727?q=80&w=880&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
                category: 'spices',
                stock: 45,
                farmer: {
                    name: 'Rajesh Kumar',
                    farm: 'Green Valley Organic Farm',
                    location: 'Punjab, India',
                    experience: '15 years',
                    avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80',
                    rating: 4.8,
                    totalProducts: 12,
                    joined: '2018',
                    description: 'Passionate about organic farming and sustainable agriculture practices.'
                },
                specifications: {
                    'Origin': 'Punjab, India',
                    'Shelf Life': '24 months',
                    'Storage': 'Cool, dry place',
                    'Certification': 'Organic Certified'
                },
                reviews: [
                    {
                        name: 'Priya Sharma',
                        date: '2023-10-15',
                        rating: 5,
                        text: 'Excellent quality turmeric! The color and aroma are amazing. Will definitely buy again.',
                        avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80'
                    },
                    {
                        name: 'Amit Patel',
                        date: '2023-09-22',
                        rating: 4,
                        text: 'Good product, fresh and pure. Packaging could be better though.',
                        avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80'
                    },
                    {
                        name: 'Neha Gupta',
                        date: '2023-08-30',
                        rating: 5,
                        text: 'Best turmeric I have ever used. The flavor is so rich and authentic.',
                        avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80'
                    }
                ]
            },
            {
                _id: '2',
                name: 'Pure Forest Honey',
                description: 'Fresh honey collected from our farms. Our bees collect nectar from wildflowers in the pristine forests surrounding our farm. This raw, unfiltered honey retains all its natural enzymes, antioxidants, and nutritional value. It has a rich, complex flavor with floral notes and natural sweetness.',
                price: 450,
                unit: '500gm',
                image: 'https://images.unsplash.com/photo-1559715546-f66295d5aaa5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=200&q=80',
                category: 'dairy',
                stock: 32,
                farmer: {
                    name: 'Sunita Devi',
                    farm: 'Sunny Bee Farms',
                    location: 'Himachal Pradesh, India',
                    experience: '8 years',
                    avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80',
                    rating: 4.9,
                    totalProducts: 8,
                    joined: '2019',
                    description: 'Dedicated beekeeper practicing sustainable honey harvesting methods.'
                },
                specifications: {
                    'Origin': 'Himachal Pradesh, India',
                    'Shelf Life': '18 months',
                    'Storage': 'Room temperature',
                    'Type': 'Multiflora Honey'
                },
                reviews: [
                    {
                        name: 'Rahul Verma',
                        date: '2023-11-05',
                        rating: 5,
                        text: 'Authentic taste! This honey is so different from the commercial ones.',
                        avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80'
                    },
                    {
                        name: 'Sneha Joshi',
                        date: '2023-10-18',
                        rating: 5,
                        text: 'Love the texture and flavor. Perfect for my morning tea.',
                        avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80'
                    }
                ]
            },
            {
                _id: '3',
                name: 'Natural Jaggery',
                description: '100% natural jaggery from farms. Made from organic sugarcane juice without any chemical processing. Rich in minerals like iron, magnesium, and potassium. Perfect natural sweetener for your desserts and beverages. It has a distinctive caramel-like flavor that enhances traditional Indian sweets.',
                price: 300,
                unit: 'kg',
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Sa-indian-gud.jpg/800px-Sa-indian-gud.jpg',
                category: 'sweets',
                stock: 28,
                farmer: {
                    name: 'Vikram Singh',
                    farm: 'Sweet Cane Organics',
                    location: 'Maharashtra, India',
                    experience: '12 years',
                    avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80',
                    rating: 4.7,
                    totalProducts: 6,
                    joined: '2016',
                    description: 'Traditional jaggery maker using age-old techniques.'
                },
                specifications: {
                    'Origin': 'Maharashtra, India',
                    'Shelf Life': '12 months',
                    'Storage': 'Airtight container',
                    'Process': 'Traditional wood-fired'
                },
                reviews: [
                    {
                        name: 'Anita Desai',
                        date: '2023-09-10',
                        rating: 4,
                        text: 'Good quality jaggery. Less processed than store-bought ones.',
                        avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80'
                    },
                    {
                        name: 'Rohit Mehta',
                        date: '2023-08-25',
                        rating: 5,
                        text: 'Excellent product! The taste is authentic and natural.',
                        avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80'
                    }
                ]
            },
            {
                _id: '4',
                name: 'Organic Tomatoes',
                description: 'Fresh, pesticide-free tomatoes grown in our organic farms. These tomatoes are rich in lycopene, vitamin C, and other antioxidants. Grown using traditional farming methods with natural fertilizers. Perfect for salads, cooking, and making sauces with their rich, tangy flavor.',
                price: 80,
                unit: 'kg',
                image: 'https://images.unsplash.com/photo-1546470427-e212b7d310ff?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                category: 'vegetables',
                stock: 15,
                farmer: {
                    name: 'Anil Reddy',
                    farm: 'Red Earth Farms',
                    location: 'Karnataka, India',
                    experience: '10 years',
                    avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80',
                    rating: 4.6,
                    totalProducts: 15,
                    joined: '2017',
                    description: 'Specialized in organic vegetable cultivation.'
                },
                specifications: {
                    'Origin': 'Karnataka, India',
                    'Shelf Life': '7 days',
                    'Storage': 'Refrigerate',
                    'Variety': 'Desi Tomato'
                },
                reviews: [
                    {
                        name: 'Kavita Nair',
                        date: '2023-11-12',
                        rating: 5,
                        text: 'These tomatoes are so flavorful! Perfect for salads and cooking.',
                        avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80'
                    },
                    {
                        name: 'Sanjay Kumar',
                        date: '2023-10-28',
                        rating: 4,
                        text: 'Fresh and tasty. Better than supermarket tomatoes.',
                        avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80'
                    }
                ]
            },
            {
                _id: '5',
                name: 'Fresh Cow Milk',
                description: 'Pure farm fresh milk from grass-fed cows. Our cows are raised in open pastures and fed a natural diet. The milk is collected daily and minimally processed to retain its natural goodness and flavor. Rich in calcium, protein, and essential nutrients for your family.',
                price: 60,
                unit: 'liter',
                image: 'https://images.unsplash.com/photo-1563636619-e9143da7973b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                category: 'dairy',
                stock: 20,
                farmer: {
                    name: 'Gopal Yadav',
                    farm: 'Happy Cow Dairy',
                    location: 'Uttar Pradesh, India',
                    experience: '20 years',
                    avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80',
                    rating: 4.9,
                    totalProducts: 5,
                    joined: '2010',
                    description: 'Third-generation dairy farmer committed to animal welfare.'
                },
                specifications: {
                    'Origin': 'Uttar Pradesh, India',
                    'Shelf Life': '3 days',
                    'Storage': 'Refrigerate',
                    'Fat Content': '4.5%'
                },
                reviews: [
                    {
                        name: 'Meera Iyer',
                        date: '2023-11-08',
                        rating: 5,
                        text: 'The milk is so creamy and fresh! My family loves it.',
                        avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80'
                    },
                    {
                        name: 'Arun Malhotra',
                        date: '2023-10-15',
                        rating: 5,
                        text: 'Best milk I have ever tasted. Reminds me of childhood.',
                        avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80'
                    }
                ]
            }
        ];

        // Tours database
        const toursDatabase = [
            {
                id: 'tour1',
                name: 'Organic Vegetable Farm Tour',
                description: 'Join us for a guided tour of our organic farm and learn about sustainable farming practices. You will get to see various organic vegetables being grown and learn about the techniques we use to maintain soil health and biodiversity without the use of chemical pesticides and fertilizers. Includes hands-on activities and farm-fresh lunch.',
                price: 499,
                image: 'https://images.unsplash.com/photo-1520052203542-d3095f1b6cf0?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=200&q=80',
                duration: '2 hours',
                capacity: '15 people',
                category: 'tours',
                includes: ['Guided farm tour', 'Vegetable picking', 'Organic lunch', 'Take-home produce'],
                farmer: {
                    name: 'Rajesh Kumar',
                    farm: 'Green Valley Organic Farm',
                    location: 'Punjab, India',
                    experience: '15 years',
                    avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80',
                    rating: 4.8
                }
            }
        ];

        // Current product
        let currentProduct = null;

        // Load product details
        async function loadProductDetails() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            
            // Simulate API call delay
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            // Combine products and tours
            const allItems = [...productsDatabase, ...toursDatabase];
            currentProduct = allItems.find(item => item._id === productId || item.id === productId);
            
            if (!currentProduct) {
                document.getElementById('loading').innerHTML = `
                    <i class="fas fa-exclamation-triangle fa-3x" style="color: var(--secondary); margin-bottom: 1rem;"></i>
                    <h3>Product Not Found</h3>
                    <p>The product you're looking for doesn't exist.</p>
                    <button class="back-btn" onclick="window.location.href='index.html'" style="margin-top: 1rem;">
                        <i class="fas fa-home"></i>
                        Back to Home
                    </button>
                `;
                return;
            }
            
            // Hide loading, show content
            document.getElementById('loading').style.display = 'none';
            document.getElementById('productSection').style.display = 'block';
            document.getElementById('similarSection').style.display = 'block';
            document.getElementById('bottomActions').style.display = 'flex';
            
            // Load product details
            renderProductDetails();
            
            // Load similar products
            loadSimilarProducts(currentProduct.category, currentProduct._id || currentProduct.id);
        }
        
        // Render product details
        function renderProductDetails() {
            const product = currentProduct;
            
            document.getElementById('productDetails').innerHTML = `
                <div>
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                </div>
                <div class="product-info">
                    <h1>${product.name}</h1>
                    <div class="product-price">₹${product.price} ${product.unit ? '/ ' + product.unit : '/ person'}</div>
                    <div class="product-description">
                        ${product.description}
                    </div>
                    
                    <div class="product-meta">
                        ${product.category ? `<div class="meta-item">
                            <span class="meta-label">Category</span>
                            <span class="meta-value">${product.category.charAt(0).toUpperCase() + product.category.slice(1)}</span>
                        </div>` : ''}
                        ${product.stock ? `<div class="meta-item">
                            <span class="meta-label">Stock Available</span>
                            <span class="meta-value">${product.stock} ${product.unit || 'items'}</span>
                        </div>` : ''}
                        ${product.duration ? `<div class="meta-item">
                            <span class="meta-label">Duration</span>
                            <span class="meta-value">${product.duration}</span>
                        </div>` : ''}
                        ${product.capacity ? `<div class="meta-item">
                            <span class="meta-label">Capacity</span>
                            <span class="meta-value">${product.capacity}</span>
                        </div>` : ''}
                    </div>
                    
                    ${product.specifications ? `
                    <div class="product-meta">
                        ${Object.entries(product.specifications).map(([key, value]) => `
                            <div class="meta-item">
                                <span class="meta-label">${key}</span>
                                <span class="meta-value">${value}</span>
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}
                    
                    ${product.farmer ? `
                    <div class="farmer-details">
                        <h2>About the Farmer</h2>
                        <div class="farmer-info">
                            <img src="${product.farmer.avatar}" alt="${product.farmer.name}" class="farmer-avatar">
                            <div class="farmer-bio">
                                <h3>${product.farmer.name}</h3>
                                <p>${product.farmer.farm} • ${product.farmer.location}</p>
                                <p>${product.farmer.experience} of experience • ${product.farmer.rating} ★ Rating</p>
                                ${product.farmer.description ? `<p>${product.farmer.description}</p>` : ''}
                            </div>
                        </div>
                        <div class="farmer-stats">
                            <div class="stat-item">
                                <span class="stat-value">${product.farmer.totalProducts || '12'}</span>
                                <span class="stat-label">Products</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value">${product.farmer.rating}</span>
                                <span class="stat-label">Rating</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value">${product.farmer.experience}</span>
                                <span class="stat-label">Experience</span>
                            </div>
                        </div>
                    </div>
                    ` : ''}
                    
                    ${product.reviews ? `
                    <div class="reviews-section">
                        <h2>Customer Reviews (${product.reviews.length})</h2>
                        ${product.reviews.map(review => `
                            <div class="review">
                                <div class="review-header">
                                    <div class="reviewer-info">
                                        <img src="${review.avatar}" alt="${review.name}" class="reviewer-avatar">
                                        <div>
                                            <div class="reviewer-name">${review.name}</div>
                                            <div class="review-date">${new Date(review.date).toLocaleDateString()}</div>
                                        </div>
                                    </div>
                                    <div class="review-rating">
                                        ${'★'.repeat(review.rating)}${'☆'.repeat(5 - review.rating)}
                                    </div>
                                </div>
                                <div class="review-text">${review.text}</div>
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}
                </div>
            `;
        }
        
        // Load similar products
        function loadSimilarProducts(category, currentProductId) {
            const similarProducts = productsDatabase.filter(p => 
                p.category === category && 
                p._id !== currentProductId
            ).slice(0, 4);
            
            if (similarProducts.length > 0) {
                document.getElementById('similarProducts').innerHTML = similarProducts.map(product => `
                    <div class="similar-product-card" onclick="window.location.href='product-details.html?id=${product._id}'">
                        <div class="similar-product-img">
                            <img src="${product.image}" alt="${product.name}">
                        </div>
                        <div class="similar-product-content">
                            <div class="similar-product-name">${product.name}</div>
                            <div class="similar-product-price">₹${product.price}</div>
                        </div>
                    </div>
                `).join('');
            } else {
                document.getElementById('similarProducts').innerHTML = '<p>No similar products found.</p>';
            }
        }
        
        // Add to cart function
        function addToCart() {
            if (!currentProduct) return;
            
            // Get existing cart from localStorage
            let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            
            // Check if item already exists in cart
            const existingItemIndex = cartItems.findIndex(item => 
                item.name === currentProduct.name
            );
            
            if (existingItemIndex !== -1) {
                cartItems[existingItemIndex].quantity += 1;
            } else {
                cartItems.push({
                    name: currentProduct.name,
                    price: currentProduct.price,
                    image: currentProduct.image,
                    productId: currentProduct._id || currentProduct.id,
                    quantity: 1
                });
            }
            
            // Save to localStorage
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
            
            // Show notification
            showNotification(`${currentProduct.name} added to cart!`);
        }
        
        // Buy now function
        function buyNow() {
            if (!currentProduct) return;
            
            // Add to cart first
            addToCart();
            
            // Redirect to checkout
            setTimeout(() => {
                window.location.href = 'payment.html';
            }, 1000);
        }
        
        // Show notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadProductDetails();
            
            // Add event listeners to bottom buttons
            document.getElementById('addToCartBtn').addEventListener('click', addToCart);
            document.getElementById('buyNowBtn').addEventListener('click', buyNow);
        });
    </script>
</body>
</html>